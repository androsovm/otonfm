# Oton.FM v2 -- Предложения по улучшению дизайна и UX

> Документ содержит 15 конкретных предложений по улучшению дизайна и пользовательского опыта,
> организованных по приоритетам. Каждое предложение включает описание проблемы, решение,
> пример взаимодействия и оценку сложности.

---

## Tier 1: Обязательные улучшения (высокий приоритет)

Максимальный эффект на UX при разумных затратах на реализацию.

---

### 1. Live Activity и Dynamic Island

**Проблема**
Когда пользователь сворачивает приложение или блокирует экран, он теряет информацию о текущем треке.
Control Center показывает только базовую информацию. На iPhone 14 Pro+ Dynamic Island никак не используется,
хотя это самый заметный элемент экрана блокировки для современных устройств.

**Решение**
Реализовать Live Activity через ActivityKit (iOS 16.1+), показывающую текущий трек и обложку
прямо на экране блокировки и в Dynamic Island.

```
Dynamic Island (компактный вид):
+------------------------------------------+
|  [artwork]  Artist - Song Name     [||]  |
+------------------------------------------+

Dynamic Island (расширенный вид, long press):
+------------------------------------------+
|                                          |
|  +------+  Artist - Song Name            |
|  | art  |  Oton FM -- Live               |
|  | work |                                |
|  +------+           [ |< ]  [ || ]       |
|                                          |
+------------------------------------------+

Lock Screen Live Activity:
+------------------------------------------+
|  +------+                                |
|  | art  |  Artist - Song Name            |
|  | work |  Oton FM                       |
|  +------+  ====[progress/live]=====      |
+------------------------------------------+
```

**Пример взаимодействия**
1. Пользователь нажимает Play и сворачивает приложение
2. На экране блокировки появляется Live Activity с обложкой и названием трека
3. На iPhone 14 Pro+ в Dynamic Island отображается мини-обложка и название
4. При смене трека информация обновляется в реальном времени
5. Long press на Dynamic Island раскрывает расширенный вид с кнопками управления
6. При остановке воспроизведения Live Activity плавно исчезает

**Сложность реализации**: Средняя
**Влияние на UX**: Очень высокое -- приложение становится заметным и полезным даже в свёрнутом состоянии. Для радио-приложения, которое работает в фоне 90% времени, это критически важная фича.

---

### 2. Sleep Timer (Таймер сна)

**Проблема**
Многие слушатели включают радио перед сном. Сейчас нет способа автоматически остановить воспроизведение
через заданное время. Пользователь вынужден просыпаться, чтобы выключить радио, или радио работает всю ночь,
расходуя трафик и батарею.

**Решение**
Добавить кнопку таймера сна рядом с кнопкой Play/Pause. При нажатии появляется компактный
выбор времени. Активный таймер показывает обратный отсчёт.

```
Основной экран (таймер неактивен):
+----------------------------------+
|                          [gift]  |
|                                  |
|   +----------------------------+ |
|   |        Artwork             | |
|   +----------------------------+ |
|                                  |
|   Artist - Song Name             |
|                                  |
|       [moon]  ( || )             |
|                                  |
+----------------------------------+

При нажатии на [moon] -- выбор времени (снизу вверх):
+----------------------------------+
|                                  |
|   +----------------------------+ |
|   |  Таймер сна                | |
|   |                            | |
|   |  [ 15 мин ] [ 30 мин ]    | |
|   |  [ 45 мин ] [  1 час ]    | |
|   |  [Конец трека] [Отмена]   | |
|   +----------------------------+ |
|                                  |
+----------------------------------+

Таймер активен -- обратный отсчёт вместо иконки луны:
+----------------------------------+
|                                  |
|   Artist - Song Name             |
|                                  |
|       [23:45] ( || )             |
|                                  |
+----------------------------------+
```

**Пример взаимодействия**
1. Пользователь нажимает иконку луны (moon.zzz) слева от кнопки Play
2. Снизу появляется компактное меню с вариантами: 15 мин, 30 мин, 45 мин, 1 час, Конец трека
3. Пользователь выбирает "30 мин" -- haptic feedback (.selection)
4. Иконка луны заменяется на обратный отсчёт "29:59" мелким шрифтом
5. По истечении времени: плавное уменьшение громкости за 30 секунд, затем пауза
6. Haptic feedback (.notification) при срабатывании таймера
7. Повторное нажатие на таймер позволяет отменить или изменить время

**Сложность реализации**: Низкая
**Влияние на UX**: Высокое -- одна из самых запрашиваемых фич для любого аудиоприложения. Особенно важна для радио, которое часто слушают перед сном.

---

### 3. Кнопка "Поделиться треком"

**Проблема**
Когда пользователь слышит понравившийся трек, он не может быстро поделиться им с друзьями.
Для якутской диаспоры, разбросанной по всему миру, шаринг музыки -- важный способ
поддержания культурной связи.

**Решение**
Добавить кнопку "Поделиться" справа от кнопки Play/Pause, симметрично таймеру сна.
Кнопка активна только при воспроизведении, когда известно название трека.

```
Расположение кнопок:
+----------------------------------+
|                                  |
|   Artist - Song Name             |
|                                  |
|    [moon]   ( || )   [share]     |
|                                  |
+----------------------------------+

Share Sheet содержит:
+----------------------------------+
|                                  |
|  +------+                        |
|  | art  |  Artist - Song Name    |
|  | work |  Сейчас на Oton FM     |
|  +------+                        |
|                                  |
|  Слушай якутское радио:          |
|  https://oton.fm                 |
|                                  |
|  [Messages] [Telegram] [Copy]    |
|  [WhatsApp] [VK]      [More]    |
|                                  |
+----------------------------------+
```

**Пример взаимодействия**
1. Пользователь слушает трек и нажимает кнопку share (square.and.arrow.up)
2. Haptic feedback (.light)
3. Открывается стандартный UIActivityViewController
4. Текст: "Artist - Song Name -- Сейчас на Oton FM\nСлушай якутское радио: https://oton.fm"
5. Если доступна обложка трека, она прикрепляется как изображение
6. Пользователь выбирает способ отправки (Telegram, WhatsApp, iMessage и т.д.)

**Сложность реализации**: Низкая
**Влияние на UX**: Высокое -- органический рост аудитории через word-of-mouth. Для нишевого радио якутской диаспоры это особенно ценно.

---

### 4. Улучшенный Onboarding (первый запуск)

**Проблема**
Сейчас при первом запуске пользователь видит splash screen и сразу попадает в плеер.
Нет объяснения, что это за приложение, какие у него возможности, и почему стоит его использовать.
Для радио якутской диаспоры, где целевая аудитория может быть не очень технически подкованной,
это особенно важно.

**Решение**
Трёхстраничный onboarding с автоматической прокруткой якутских градиентов на фоне.
Показывается только при первом запуске. Можно пропустить.

```
Страница 1:
+----------------------------------+
|     (градиент Якутии #0)         |
|                                  |
|        +----------+              |
|        | OtonFM   |              |
|        | Logo     |              |
|        +----------+              |
|                                  |
|    Добро пожаловать в            |
|    Oton FM                       |
|                                  |
|    Якутское радио для            |
|    нашей диаспоры                |
|    по всему миру                 |
|                                  |
|    o . .     [Пропустить]        |
|    [      Далее      ]           |
+----------------------------------+

Страница 2:
+----------------------------------+
|     (градиент Якутии #5)         |
|                                  |
|        +----------+              |
|        | music    |              |
|        | note     |              |
|        +----------+              |
|                                  |
|    Музыка Саха                   |
|                                  |
|    Лучшая якутская и             |
|    международная музыка          |
|    в прямом эфире 24/7           |
|                                  |
|    . o .     [Пропустить]        |
|    [      Далее      ]           |
+----------------------------------+

Страница 3:
+----------------------------------+
|     (градиент Якутии #24)        |
|                                  |
|        +----------+              |
|        | heart    |              |
|        | fill     |              |
|        +----------+              |
|                                  |
|    Нажми Play                    |
|                                  |
|    И погрузись в звуки           |
|    родного края,                 |
|    где бы ты ни был              |
|                                  |
|    . . o                         |
|    [    Начать слушать    ]      |
+----------------------------------+
```

**Пример взаимодействия**
1. Первый запуск: после splash screen показывается onboarding
2. Фон -- градиент Якутии, меняется при переходе между страницами
3. Пользователь листает свайпом или нажимает "Далее"
4. На последней странице кнопка "Начать слушать" -- переход к плееру
5. Можно пропустить в любой момент кнопкой "Пропустить"
6. Состояние "onboarding пройден" сохраняется в UserDefaults
7. При последующих запусках onboarding не показывается

**Сложность реализации**: Низкая
**Влияние на UX**: Высокое -- создаёт эмоциональную связь с приложением с первого запуска. Текст на русском/якутском усиливает ощущение культурной идентичности.

---

### 5. Жесты управления воспроизведением

**Проблема**
Сейчас единственный способ управления -- нажатие на кнопку Play/Pause. Для одноэкранного
приложения, которое часто используется "на ходу", жесты значительно ускоряют взаимодействие
и делают его более интуитивным.

**Решение**
Добавить три жеста на основную область обложки:

```
Жесты на обложке:

        Свайп вниз -- Пауза
              |
              v
+----------------------------+
|                            |
|                            |
|        Artwork             |  <-- Двойной тап:
|                            |      "Понравился трек"
|                            |      (сердечко-анимация)
|                            |
+----------------------------+
              |
              v
        Свайп вверх -- подробности трека

Анимация "Понравился":
+----------------------------+
|                            |
|          <3                |
|        heart               |
|       (scale up            |
|        + fade out)         |
|                            |
+----------------------------+
```

**Пример взаимодействия**
1. **Свайп вниз по обложке** -- ставит на паузу (жест "приглушить")
   - Haptic feedback (.medium)
   - Обложка слегка "проседает" вниз (offset y: +10), затем возвращается
2. **Свайп вверх по обложке** -- в будущем откроет детали трека или историю
   - На данном этапе -- placeholder с haptic feedback (.light)
3. **Двойной тап по обложке** -- "лайк" текущему треку
   - Анимация: большое сердце появляется по центру обложки, увеличивается и исчезает (как в Instagram)
   - Haptic feedback (.light)
   - Трек сохраняется в локальные избранные (для будущей фичи "Избранное")

**Сложность реализации**: Средняя
**Влияние на UX**: Высокое -- жесты делают взаимодействие быстрым и приятным. Двойной тап -- привычный паттерн из Instagram/TikTok, интуитивно понятный для большинства пользователей.

---

## Tier 2: Рекомендуемые улучшения (средний приоритет)

Улучшения, которые значительно повышают качество продукта, но могут быть реализованы после основных фич.

---

### 6. Audio Visualizer (визуализация звука)

**Проблема**
При воспроизведении единственный визуальный индикатор -- лёгкая пульсация обложки (scaleEffect 1.0-1.02).
Это почти незаметно. Пользователю может быть непонятно, играет ли радио, особенно если звук выключен.
Отсутствует "живость" и энергия, которую ожидаешь от музыкального приложения.

**Решение**
Добавить тонкую анимацию звуковых "баров" (мини-эквалайзер) под обложкой, реагирующую
на состояние воспроизведения. Не реальный анализ звука (для экономии батареи), а стилизованная
анимация, привязанная к состоянию isPlaying.

```
Обложка с визуализатором:
+----------------------------+
|                            |
|        Artwork             |
|                            |
+----------------------------+
    ||| || |||| | ||| || |||      <-- 20-30 тонких баров
                                      анимируются с разной
                                      частотой и амплитудой
Artist - Song Name
```

Варианты визуализации:
- **Бары**: 20-30 вертикальных линий шириной 2pt, высота анимируется случайно (2-12pt)
- **Волна**: синусоидальная линия с фазовой анимацией
- **Точки**: ряд точек, пульсирующих с разной частотой

**Пример взаимодействия**
1. Пользователь нажимает Play
2. Под обложкой появляются тонкие бары (opacity 0 -> 0.4, анимация 0.5s)
3. Бары начинают "танцевать" -- каждый анимируется независимо
4. Цвет баров -- белый @ 40% opacity (не отвлекает от обложки)
5. При паузе бары плавно уменьшаются до минимальной высоты и застывают
6. При Reduced Motion: статичные бары, без анимации

**Сложность реализации**: Средняя
**Влияние на UX**: Среднее -- добавляет "жизнь" интерфейсу и однозначно индицирует состояние воспроизведения. Визуально приятная деталь, отличающая от простого плеера.

---

### 7. iOS Widgets (виджеты домашнего экрана и экрана блокировки)

**Проблема**
Чтобы узнать, что сейчас играет, или быстро включить радио, пользователь должен открывать
приложение. На домашнем экране и экране блокировки нет присутствия Oton FM.

**Решение**
Два виджета: "Сейчас играет" (Home Screen) и "Быстрый запуск" (Lock Screen).

```
Home Screen Widget (Medium):
+----------------------------------------------+
|  +------+                                    |
|  | art  |  Artist - Song Name                |
|  | work |  Oton FM -- Live                   |
|  +------+                                    |
|           [  Play  ]                          |
+----------------------------------------------+

Home Screen Widget (Small):
+--------------------+
|     +------+       |
|     | art  |       |
|     | work |       |
|     +------+       |
|  Oton FM           |
|  [> Play]          |
+--------------------+

Lock Screen Widget (Circular):
+--------+
| [> FM] |
+--------+

Lock Screen Widget (Rectangular):
+--------------------+
| Oton FM            |
| Artist - Song      |
+--------------------+
```

**Пример взаимодействия**
1. Пользователь добавляет виджет "Oton FM" на домашний экран
2. Виджет показывает текущий трек и обложку (обновление через App Group)
3. Нажатие на виджет открывает приложение
4. Кнопка Play на виджете запускает воспроизведение через App Intent
5. На экране блокировки -- круглый виджет с логотипом Oton FM для быстрого доступа

**Сложность реализации**: Высокая (требует Widget Extension, App Group, App Intents)
**Влияние на UX**: Высокое -- постоянное присутствие на экране увеличивает частоту использования. Виджет "Быстрый запуск" сокращает путь до прослушивания до одного тапа.

---

### 8. История прослушивания

**Проблема**
Пользователь услышал понравившийся трек, но не запомнил название. Или хочет вспомнить,
что играло вчера вечером. Сейчас нет никакого способа просмотреть историю.

**Решение**
Компактная история треков, доступная свайпом вверх от основного экрана.
Хранение в SwiftData/UserDefaults (последние 100 треков).

```
Основной экран (свайп вверх для истории):
+----------------------------------+
|                                  |
|   +----------------------------+ |
|   |        Artwork             | |
|   +----------------------------+ |
|                                  |
|   Artist - Song Name             |
|                                  |
|    [moon]   ( || )   [share]     |
|                                  |
|         --- o ---                |  <-- drag indicator
+----------------------------------+

История (half-sheet снизу):
+----------------------------------+
|         --- o ---                |
|                                  |
|   История                        |
|                                  |
|   14:32  Artist A - Song X      |
|   14:28  Artist B - Song Y      |
|   14:24  Artist C - Song Z      |
|   14:20  OtonFM (программа)     |
|   14:15  Artist D - Song W      |
|   ...                            |
|                                  |
+----------------------------------+
```

**Пример взаимодействия**
1. Пользователь тянет вверх от нижней части экрана (или нажимает drag indicator)
2. Появляется half-sheet с историей треков
3. Каждая запись: время + название трека
4. Тап по треку в истории -- показывает share sheet для этого трека
5. Лёгкий свайп влево по треку -- кнопка "Поделиться"
6. История автоматически очищается через 7 дней

**Сложность реализации**: Средняя
**Влияние на UX**: Среднее -- решает частую проблему "что это играло?". Особенно ценно для якутской музыки, где названия могут быть незнакомыми.

---

### 9. CarPlay интерфейс

**Проблема**
Многие слушатели якутской диаспоры живут в странах, где автомобиль -- основной транспорт
(Россия, США, Канада). Использование телефона за рулём небезопасно и часто запрещено.
CarPlay обеспечивает безопасное управление радио во время вождения.

**Решение**
Базовый интерфейс CarPlay с использованием CPNowPlayingTemplate -- стандартного шаблона
Apple для аудиоприложений.

```
CarPlay экран:
+------------------------------------------+
|                                          |
|   +--------+                             |
|   |        |   Artist - Song Name        |
|   |  Art   |                             |
|   |  Work  |   Oton FM -- Live           |
|   |        |                             |
|   +--------+                             |
|                                          |
|        [ |< ]    [ || ]    [ >| ]        |
|                                          |
+------------------------------------------+
```

**Пример взаимодействия**
1. Пользователь подключает iPhone к CarPlay
2. На экране автомобиля появляется иконка Oton FM
3. При открытии -- CPNowPlayingTemplate с обложкой и кнопками
4. Кнопка Play/Pause управляет воспроизведением
5. Кнопки перемотки неактивны (live stream)
6. Siri: "Эй, Siri, включи Oton FM" -- запуск воспроизведения

**Сложность реализации**: Средняя (CPNowPlayingTemplate -- простой стандартный шаблон)
**Влияние на UX**: Высокое для автомобилистов -- безопасное управление радио за рулём.

---

### 10. 3D Touch / Haptic Touch Quick Actions

**Проблема**
Чтобы включить радио, пользователь должен: найти иконку -> открыть приложение -> дождаться
splash screen -> нажать Play. Это 4 шага и ~4 секунды ожидания. Для действия, которое
совершается несколько раз в день, это слишком долго.

**Решение**
Быстрые действия (Quick Actions) при длительном нажатии на иконку приложения на домашнем экране.

```
Quick Actions на иконке приложения:

+----------------------------+
|  [> ]  Включить радио      |
|  [moon] Таймер сна         |
|  [share] Что сейчас играет |
+----------------------------+
|       [Oton FM icon]       |
+----------------------------+
```

**Пример взаимодействия**
1. Пользователь нажимает и удерживает иконку Oton FM на домашнем экране
2. Появляются Quick Actions
3. "Включить радио" -- запускает приложение и сразу начинает воспроизведение (пропуская splash)
4. "Что сейчас играет" -- открывает приложение и показывает share sheet текущего трека
5. "Таймер сна" -- открывает приложение с включённым воспроизведением и показывает выбор таймера

**Сложность реализации**: Низкая (UIApplicationShortcutItem + URL scheme)
**Влияние на UX**: Среднее -- ускоряет самое частое действие. Опытные пользователи оценят.

---

### 11. Сезонные градиенты

**Проблема**
25 градиентов Якутии -- прекрасная коллекция, но она статична. Приложение выглядит
одинаково в любое время года. Якутия славится ярко выраженной сменой сезонов -- от
-50C зимой до +35C летом. Это можно отразить в интерфейсе.

**Решение**
Автоматическая смена приоритетных градиентов в зависимости от времени года.
Не убираем другие градиенты, а увеличиваем вероятность появления сезонных.

```
Сезонные приоритеты:

Зима (декабрь-февраль):
  Приоритетные: frozenLena, winterMorning, winterTaiga, yakutianCrystals,
                northernLights, polarStar, starryNight
  Вероятность: 70% сезонные, 30% остальные

Весна (март-май):
  Приоритетные: lenaSunrise, springBloom, diamondSky, yakutianFlowers,
                yakutianLakes
  Вероятность: 70% сезонные, 30% остальные

Лето (июнь-август):
  Приоритетные: summerEvening, tundraSummer, yakutianMeadow, midnightSun,
                ysyakhCelebration
  Вероятность: 70% сезонные, 30% остальные

Осень (сентябрь-ноябрь):
  Приоритетные: autumnColors, yakutskSunset, amberSunset, forestTwilight,
                ancientLegends
  Вероятность: 70% сезонные, 30% остальные
```

**Пример взаимодействия**
1. Пользователь открывает приложение зимой
2. С вероятностью 70% стартовый градиент выбирается из "зимних" (frozenLena, winterTaiga и т.д.)
3. Последовательность смены тоже предпочитает сезонные градиенты
4. Остальные градиенты по-прежнему появляются, но реже
5. Переход между сезонами -- плавный (в марте зимние градиенты постепенно уступают весенним)
6. Особый случай: в июне (время Ысыаха) -- ysyakhCelebration чаще обычного

**Сложность реализации**: Низкая (логика выбора в GradientAnimator)
**Влияние на UX**: Среднее -- тонкая деталь, которая делает приложение "живым" и связанным с природными циклами Якутии. Пользователи могут не осознавать этого, но будут "чувствовать", что приложение подходит текущему настроению.

---

## Tier 3: Будущие идеи (низкий приоритет)

Амбициозные идеи для будущих версий, требующие больших усилий или зависящие от роста аудитории.

---

### 12. Мини-плеер для будущей навигации

**Проблема**
Сейчас приложение -- один экран. Но по мере добавления фич (история, избранное, расписание)
понадобится навигация между экранами. При переходе на другой экран пользователь теряет
контроль над воспроизведением.

**Решение**
Компактный мини-плеер, закреплённый внизу экрана при навигации на вспомогательные экраны.
Полноэкранный плеер разворачивается тапом по мини-плееру.

```
Экран "История" с мини-плеером:
+----------------------------------+
|  [<] История                     |
|                                  |
|  14:32  Artist A - Song X       |
|  14:28  Artist B - Song Y       |
|  14:24  Artist C - Song Z       |
|  ...                             |
|                                  |
+----------------------------------+
| [art] Artist - Song Name   [||] |  <-- мини-плеер
+----------------------------------+

Анимация разворачивания (тап по мини-плееру):
  Мини-плеер плавно трансформируется
  в полноэкранный PlayerView
  (matchedGeometryEffect на обложке)
```

**Пример взаимодействия**
1. Пользователь переходит на экран "История" (свайп вверх)
2. Полноэкранный плеер сворачивается в мини-плеер внизу
3. Мини-плеер показывает: мини-обложку (40x40), название трека, кнопку Pause
4. Тап по мини-плееру -- плавная анимация разворачивания обратно
5. matchedGeometryEffect обеспечивает плавную трансформацию обложки

**Сложность реализации**: Высокая
**Влияние на UX**: Высокое (когда появятся дополнительные экраны) -- стандартный паттерн музыкальных приложений, привычный пользователям Spotify и Apple Music.

---

### 13. Particle Effects (частицы на фоне)

**Проблема**
Градиенты Якутии красивы, но статичны (кроме плавной смены цветов). Фон можно сделать
ещё более атмосферным, добавив лёгкие анимированные частицы.

**Решение**
Тонкие полупрозрачные частицы, привязанные к теме текущего градиента:

```
Тема "Северное сияние" (northernLights):
  Частицы: мерцающие точки-"звёзды", медленно дрейфующие вверх
  Цвет: белый @ 20% opacity
  Количество: 15-20
  Скорость: очень медленная (30-60 секунд для пересечения экрана)

Тема "Зимнее утро" (winterMorning):
  Частицы: мягкие "снежинки", дрейфующие вниз
  Цвет: белый @ 15% opacity
  Количество: 10-15
  Скорость: медленная

Тема "Ысыах" (ysyakhCelebration):
  Частицы: мелкие "искры", поднимающиеся вверх
  Цвет: золотой @ 25% opacity
  Количество: 10-12
  Скорость: средняя

Визуальная структура:
+----------------------------------+
|  .    .        .                 |
|        .                 .       |
|                 .                |
|   +----------------------------+ |
|   |        Artwork             | |
|   +----------------------------+ |
|     .            .       .       |
|          .                       |
|   Artist - Song Name    .        |
|                                  |
|       [moon]  ( || )  [share]    |
| .              .                 |
+----------------------------------+
```

**Пример взаимодействия**
1. При показе дефолтной обложки (градиенты Якутии) появляются лёгкие частицы
2. Тип частиц зависит от текущего градиента (снежинки зимой, звёзды ночью)
3. Частицы не перекрывают обложку (z-index ниже artwork)
4. При переключении на реальную обложку -- частицы плавно исчезают
5. При Reduced Motion: частицы отключены

**Сложность реализации**: Средняя (Canvas + TimelineView в iOS 17+)
**Влияние на UX**: Низкое-среднее -- чисто эстетическое улучшение, но создаёт эффект "вау" и выделяет приложение среди конкурентов. Важно не переборщить -- частицы должны быть едва заметными.

---

### 14. Избранные треки с локальным хранением

**Проблема**
Пользователь слышит понравившийся трек, но радио -- это live stream, вернуться к нему невозможно.
Нет способа "запомнить" трек для последующего поиска на Spotify, Apple Music или YouTube.

**Решение**
Система "лайков" с сохранением треков в локальное хранилище. Интегрируется с жестом
двойного тапа по обложке (Tier 1, пункт 5) и с историей (Tier 2, пункт 8).

```
Экран "Избранное" (доступен свайпом или из меню):
+----------------------------------+
|  [<] Избранное               [share all] |
|                                  |
|  [heart] Artist A - Song X      |
|          6 февраля, 14:32        |
|          [share] [search]        |
|  --------------------------------|
|  [heart] Artist B - Song Y      |
|          5 февраля, 20:15        |
|          [share] [search]        |
|  --------------------------------|
|  [heart] Artist C - Song Z      |
|          4 февраля, 09:45        |
|          [share] [search]        |
|  --------------------------------|
|                                  |
|  Всего: 3 трека                  |
+----------------------------------+

Кнопка [search] -- открывает Spotify/Apple Music/YouTube
с поисковым запросом "Artist - Song Name"
```

**Пример взаимодействия**
1. Пользователь слышит понравившийся трек
2. Двойной тап по обложке -- анимация сердечка, трек добавлен в избранное
3. Haptic feedback (.notification, .success)
4. Позже: открывает экран "Избранное"
5. Видит список сохранённых треков с датой и временем
6. Нажимает [search] -- открывается Spotify/Apple Music с поиском этого трека
7. Свайп влево -- удалить из избранного

**Сложность реализации**: Средняя (SwiftData + новый экран + deeplinks)
**Влияние на UX**: Среднее -- создаёт "мостик" между live-радио и on-demand сервисами. Пользователь может найти якутскую музыку на знакомых платформах.

---

### 15. Landscape и iPad Layout

**Проблема**
Сейчас приложение работает только в portrait-ориентации. На iPad интерфейс растянут
на весь экран, обложка становится слишком большой. Landscape-режим не поддерживается.

**Решение**
Адаптивный layout: горизонтальный режим для iPhone, специальный layout для iPad
с ограниченной шириной контента.

```
iPhone Landscape:
+------------------------------------------------------+
|                      |                                |
|  +----------------+  |  Artist - Song Name            |
|  |                |  |  Oton FM -- Live               |
|  |    Artwork     |  |                                |
|  |    (280x280)   |  |                                |
|  |                |  |  [moon]  ( || )  [share]       |
|  +----------------+  |                                |
|                      |                                |
+------------------------------------------------------+

iPad Portrait:
+----------------------------------------------+
|                                              |
|         +------------------------+           |
|         |                        |           |
|         |   Artwork              |           |
|         |   (max 400x400)        |           |
|         |                        |           |
|         +------------------------+           |
|                                              |
|         Artist - Song Name                   |
|         (centered, max-width 500pt)          |
|                                              |
|    [moon]       ( || )       [share]         |
|                                              |
+----------------------------------------------+

iPad Landscape (Split View compatible):
+------------------------------------------------------+
|              |                                        |
|  +--------+  |  Artist - Song Name                    |
|  |        |  |  Oton FM -- Live                       |
|  |  Art   |  |                                        |
|  |  Work  |  |  [moon]  ( || )  [share]               |
|  |        |  |                                        |
|  +--------+  |  +----------------------------------+  |
|              |  | История                          |  |
|              |  | 14:32 Artist A - Song X          |  |
|              |  | 14:28 Artist B - Song Y          |  |
|              |  +----------------------------------+  |
+------------------------------------------------------+
```

**Пример взаимодействия**
1. Пользователь поворачивает iPhone в landscape
2. Layout плавно перестраивается: обложка слева, информация справа
3. На iPad: обложка не превышает 400pt, контент центрирован
4. iPad landscape: боковая панель с историей/избранным
5. Split View: приложение корректно работает в компактном режиме

**Сложность реализации**: Высокая (GeometryReader + адаптивные layout + тестирование)
**Влияние на UX**: Низкое для iPhone (большинство слушает в portrait), среднее для iPad.

---

## Сводная таблица

| # | Название | Tier | Сложность | Влияние на UX |
|---|----------|------|-----------|---------------|
| 1 | Live Activity / Dynamic Island | 1 | Средняя | Очень высокое |
| 2 | Sleep Timer | 1 | Низкая | Высокое |
| 3 | Поделиться треком | 1 | Низкая | Высокое |
| 4 | Улучшенный Onboarding | 1 | Низкая | Высокое |
| 5 | Жесты управления | 1 | Средняя | Высокое |
| 6 | Audio Visualizer | 2 | Средняя | Среднее |
| 7 | iOS Widgets | 2 | Высокая | Высокое |
| 8 | История прослушивания | 2 | Средняя | Среднее |
| 9 | CarPlay | 2 | Средняя | Высокое (для автомобилистов) |
| 10 | Quick Actions (3D Touch) | 2 | Низкая | Среднее |
| 11 | Сезонные градиенты | 2 | Низкая | Среднее |
| 12 | Мини-плеер | 3 | Высокая | Высокое (в будущем) |
| 13 | Particle Effects | 3 | Средняя | Низкое-среднее |
| 14 | Избранные треки | 3 | Средняя | Среднее |
| 15 | Landscape и iPad Layout | 3 | Высокая | Низкое |

---

## Рекомендуемый порядок реализации

**Фаза 1** (быстрые победы):
1. Sleep Timer (#2) -- низкая сложность, высокое влияние
2. Поделиться треком (#3) -- низкая сложность, высокое влияние
3. Улучшенный Onboarding (#4) -- низкая сложность, высокое влияние
4. Quick Actions (#10) -- низкая сложность, среднее влияние
5. Сезонные градиенты (#11) -- низкая сложность, среднее влияние

**Фаза 2** (ключевые фичи):
1. Live Activity / Dynamic Island (#1) -- средняя сложность, очень высокое влияние
2. Жесты управления (#5) -- средняя сложность, высокое влияние
3. CarPlay (#9) -- средняя сложность, высокое влияние для ЦА
4. История прослушивания (#8) -- средняя сложность, среднее влияние

**Фаза 3** (premium-опыт):
1. iOS Widgets (#7) -- высокая сложность, высокое влияние
2. Audio Visualizer (#6) -- средняя сложность, среднее влияние
3. Избранные треки (#14) -- средняя сложность, среднее влияние
4. Мини-плеер (#12) -- высокая сложность, требуется после добавления экранов

**Фаза 4** (полировка):
1. Particle Effects (#13) -- эстетика
2. Landscape и iPad (#15) -- расширение платформ
